<div class="row">
    <div class="col-sm-12">
        <app-card cardTitle="Leave Grant">
            <button (click)="open(content)" class="my-submit-button"  >Request Leave</button> 
            <ng-template #content>
                <div class="modal-header">
                  <h4 class="modal-title">Request Leave</h4>
                  <button type="button" class="close" aria-label="Close" (click)="modalService.dismissAll()">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>

                
                <div class="modal-body">
                    <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
                         <div class="form-group">
                          <label>Id</label>
                          <input type="text" formControlName="employeeId" class="form-control">
                        </div>
                      
                        <!-- <div class="form-group">
                          <label>Email</label>
                          <input type="email" formControlName="email" class="form-control">
                        </div>  -->
                        <div class="form-group">
                            <label>From Date</label><br/>
                            <input type="date" formControlName="startDate">
                        </div>
                        <div class="form-group">
                            <!-- <input class="form-control" placeholder="yyyy-mm-dd"
                            name="dp" formControlName="toDate" ngbDatepicker #dp="ngbDatepicker">
                     <button class="btn btn-outline-secondary calendar" (click)="dp.toggle()" type="button"></button>
                      -->
                            <label>To Date</label><br/>
                            <input type="date" formControlName="endDate" >
                        </div>
                        <div class="form-group">
                        
                          <label>Leave Type</label><br/>
                          <input type="text" formControlName="leaveType" >
                      </div>
                        <div class="form-group">
                           
                        </div>
                        <!-- <div class="form-group">
                            <label>
                                <input type="radio" name="isChecked" value="option1" formControlName="isChecked"> Half Day
                              </label> 
                              &nbsp;
                              <label>
                                <input type="radio" name="isChecked" value="option2" formControlName="isChecked"> Full Day
                              </label>

                        </div> -->
                        <div class="form-group">
                          <label for="longText">Leave Status:</label>
                          <input type="text" formControlName="leaveStatus">
                      </div>
                        <!-- <div class="form-group">
                            <label for="longText">Reason:</label>
                            <textarea id="longText" name="longText" formControlName="reason" class="form-control" ></textarea>
                        </div> -->
                        <button type="submit" class="my-submit-button" >Submit</button> 


                      </form>
                  
                </div>
                <!-- <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" (click)="modalService.dismissAll()">Close</button>
                  <button type="button" class="btn btn-primary">Save changes</button>
                </div> -->
              </ng-template>
            <input type="text" [(ngModel)]="searchQuery" (input)="filterTableData()" placeholder="Filter by name" class="form-control col-md-2">
            <!-- <input type="text" [(ngModel)]="searchQuery1" (input)="filterTableData()" placeholder="Filter by Status"> -->

            <table class="table" >
                <thead>
                  <tr>
                    <th>Id</th>
                    <th>From Date</th>
                    <th>To Date</th>
                    <th>Leave Type</th>
                    <th>Full Day</th>
                    <th>Number Of Days</th>
                    <th>Reason</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let person of getPaginatedData() || filteredData ">
                    <td>{{person.employeeId}}</td>
                    <td>{{ person.startDate }}</td>
                    <td>{{ person.endDate }}</td>
                    <td>{{ person.leaveType }}</td>
                    <td>{{person.fullDay}}</td>
                    <td>{{person.numberOfDays}}</td>
                    <td>{{ person.description }}</td>
                    <td [ngClass]="getStatusClass(person.leaveStatus)">{{ person.leaveStatus }}</td>
                    <td><i class='fas fa-edit' *ngIf="person.leaveStatus!=='accepted'"></i></td>
                  </tr>
                </tbody>
              </table>
              <div>
                <button (click)="currentPage = currentPage - 1" [disabled]="currentPage === 1">Previous</button>
                <span>Page {{ currentPage }}</span>
                <button (click)="currentPage = currentPage + 1" [disabled]="currentPage * pageSize >= filteredData.length">Next</button>
              </div>
              <!-- <ngb-pagination [collectionSize]="people.length" 
              [(page)]="table.activePage" [pageSize]="table.pageSize"></ngb-pagination> -->
              <!-- <pagination-controls [(ngModel)]="page" [itemsPerPage]="pageSize" class="my-pagination"></pagination-controls> -->
              <!-- <div class="mt-3">
                <ngb-pagination
                  [(page)]="page"
                  [pageSize]="pageSize"
                  [collectionSize]="collectionSize"
                  [maxSize]="5"
                  [boundaryLinks]="true"
                  [ellipses]="false"
                  (pageChange)="updatePagination()"
                ></ngb-pagination>
              </div>  -->
           
        </app-card>

</div>
</div>

